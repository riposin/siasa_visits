@using BotDetect.Web.Mvc
@model Visits.Models.ViewModels.PreregistrationsViewModel
@{
	ViewBag.Title = "Solicitud de pre-registro";
}
@Styles.Render(@BotDetect.Web.CaptchaUrls.Absolute.LayoutStyleSheetUrl)
@*@Scripts.Render("~/scripts/myScript.js")*@

<h2 class="text-center">Solicitud de pre-registro</h2>

<div class="row">
	<div class="col-md-6 col-md-offset-3">

		@using (Html.BeginForm("Add", "Preregistration", FormMethod.Post, new { role = "from", @class = "" }))
		{
			@Html.AntiForgeryToken()

			//@Html.ValidationMessage("error", new { @class = "text-danger" })

			@Html.LabelFor(d => d.CompanyKey)
			@Html.TextBoxFor(d => d.CompanyKey, new { @class = "form-control", title = "Clave de la empresa" })
			@Html.ValidationMessage("CompanyKey", new { @class = "text-danger" })<br /><br />

			@Html.LabelFor(d => d.FullName)
			@Html.TextBoxFor(d => d.FullName, new { @class = "form-control", title = "Nombre completo del visitante" })
			@Html.ValidationMessage("FullName", new { @class = "text-danger" })<br /><br />

			@Html.LabelFor(d => d.Email)
			@Html.TextBoxFor(d => d.Email, new { @class = "form-control", title = "Correo electrónico del visitante" })
			@Html.ValidationMessage("Email", new { @class = "text-danger" })<br /><br />

			@Html.LabelFor(d => d.VisitDate)
			@Html.TextBoxFor(d => d.VisitDate, new { @class = "form-control", title = "Fecha y hora de la visita" })
			@Html.ValidationMessage("VisitDate", new { @class = "text-danger" })<br /><br />

			@Html.LabelFor(d => d.Motive)
			@Html.TextBoxFor(d => d.Motive, new { @class = "form-control", title = "Motivo de la visita" })
			@Html.ValidationMessage("Motive", new { @class = "text-danger" })<br /><br />


			MvcCaptcha SIASAVisitsPrereg = new MvcCaptcha("SIASAVisitsPrereg");
			SIASAVisitsPrereg.UserInputID = "CaptchaCode";
			SIASAVisitsPrereg.CodeLength = 4;
			SIASAVisitsPrereg.CodeStyle = BotDetect.CodeStyle.Numeric;
			SIASAVisitsPrereg.ImageStyle = BotDetect.ImageStyle.Chess;
			SIASAVisitsPrereg.Locale = "es-MX";
			//SIASAVisitsPrereg.CodeLength = BotDetect.CaptchaRandomization.GetRandomCodeLength(3, 5);
			<div class="text-center">
				<div style="display:inline-block;">
					@Html.Captcha(SIASAVisitsPrereg)
				</div>
			</div>
			@Html.TextBox("CaptchaCode", "", new { @class = "form-control", title = "Captura el código captcha" })<br />
			@Html.ValidationMessage("CaptchaCode", new { @class = "text-danger" })

			<div class="text-center">
				<input type="submit" class="btn btn-success" value="Enviar correo para iniciar el pre-registro" title="Enviar correo para iniciar el pre-registro" />
			</div>
		}

	</div>
</div>